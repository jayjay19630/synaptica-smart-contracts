{
  "_format": "hh-sol-artifact-1",
  "contractName": "IdentityRegistry",
  "sourceName": "contracts/IdentityRegistry.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AddressAlreadyRegistered",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "AgentNotFound",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "DomainAlreadyRegistered",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InsufficientFee",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAddress",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidDomain",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnauthorizedUpdate",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "agentDomain",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "agentAddress",
          "type": "address"
        }
      ],
      "name": "AgentRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "agentDomain",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "agentAddress",
          "type": "address"
        }
      ],
      "name": "AgentUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "REGISTRATION_FEE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        }
      ],
      "name": "agentExists",
      "outputs": [
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        }
      ],
      "name": "getAgent",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "agentId",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "agentDomain",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "agentAddress",
              "type": "address"
            }
          ],
          "internalType": "struct IIdentityRegistry.AgentInfo",
          "name": "agentInfo",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAgentCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "agentDomain",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "agentAddress",
          "type": "address"
        }
      ],
      "name": "newAgent",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "agentAddress",
          "type": "address"
        }
      ],
      "name": "resolveByAddress",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "agentId",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "agentDomain",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "agentAddress",
              "type": "address"
            }
          ],
          "internalType": "struct IIdentityRegistry.AgentInfo",
          "name": "agentInfo",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "agentDomain",
          "type": "string"
        }
      ],
      "name": "resolveByDomain",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "agentId",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "agentDomain",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "agentAddress",
              "type": "address"
            }
          ],
          "internalType": "struct IIdentityRegistry.AgentInfo",
          "name": "agentInfo",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "newAgentDomain",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "newAgentAddress",
          "type": "address"
        }
      ],
      "name": "updateAgent",
      "outputs": [
        {
          "internalType": "bool",
          "name": "success",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506001600055610f88806100256000396000f3fe60806040526004361061007b5760003560e01c806364b4f7511161004e57806364b4f7511461012757806378ddad121461014257806391cab63e14610162578063de99f1571461017757600080fd5b80630c638107146100805780632de5aaf7146100b65780633bfbbad7146100d65780634750d0fa14610106575b600080fd5b34801561008c57600080fd5b506100a061009b36600461099b565b6101a6565b6040516100ad91906109bd565b60405180910390f35b3480156100c257600080fd5b506100a06100d1366004610a32565b6102dc565b3480156100e257600080fd5b506100f66100f1366004610a94565b6103fb565b60405190151581526020016100ad565b610119610114366004610af2565b6105fa565b6040519081526020016100ad565b34801561013357600080fd5b506101196611c37937e0800081565b34801561014e57600080fd5b506100a061015d366004610b46565b61082b565b34801561016e57600080fd5b5061011961096e565b34801561018357600080fd5b506100f6610192366004610a32565b600090815260016020526040902054151590565b6101d36040518060600160405280600081526020016060815260200160006001600160a01b031681525090565b6001600160a01b0382166000908152600360205260408120549081900361020d5760405163e93ba22360e01b815260040160405180910390fd5b6000818152600160208181526040928390208351606081019094528054845291820180549184019161023e90610b88565b80601f016020809104026020016040519081016040528092919081815260200182805461026a90610b88565b80156102b75780601f1061028c576101008083540402835291602001916102b7565b820191906000526020600020905b81548152906001019060200180831161029a57829003601f168201915b5050509183525050600291909101546001600160a01b03166020909101529392505050565b6103096040518060600160405280600081526020016060815260200160006001600160a01b031681525090565b6000828152600160208181526040928390208351606081019094528054845291820180549184019161033a90610b88565b80601f016020809104026020016040519081016040528092919081815260200182805461036690610b88565b80156103b35780601f10610388576101008083540402835291602001916103b3565b820191906000526020600020905b81548152906001019060200180831161039657829003601f168201915b5050509183525050600291909101546001600160a01b031660209091015280519091506000036103f65760405163e93ba22360e01b815260040160405180910390fd5b919050565b60008481526001602052604081208054820361042a5760405163e93ba22360e01b815260040160405180910390fd5b60028101546001600160a01b0316331461045757604051634f1f214760e01b815260040160405180910390fd5b83158015906001600160a01b0385161515906104ae576002878760405161047f929190610bc2565b9081526020016040518091039020546000146104ae57604051637b857a6b60e01b815260040160405180910390fd5b80156104eb576001600160a01b038516600090815260036020526040902054156104eb576040516316a163b960e11b815260040160405180910390fd5b811561054b576002836001016040516105049190610bd2565b9081526040519081900360200190206000905560018301610526878983610cad565b50876002888860405161053a929190610bc2565b908152604051908190036020019020555b801561059e576002830180546001600160a01b03908116600090815260036020526040808220829055835473ffffffffffffffffffffffffffffffffffffffff1916928916928317909355908152208890555b600283015460405189917f1b37db56c92268433e33fda6783791cb9e5f8ffababd3952ab40716443f1bf89916105e49160018801916001600160a01b0390911690610d6e565b60405180910390a2506001979650505050505050565b600082810361061c576040516375893cc160e11b815260040160405180910390fd5b6001600160a01b0382166106435760405163e6c4247b60e01b815260040160405180910390fd5b60028484604051610655929190610bc2565b90815260200160405180910390205460001461068457604051637b857a6b60e01b815260040160405180910390fd5b6001600160a01b038216600090815260036020526040902054156106bb576040516316a163b960e11b815260040160405180910390fd5b6611c37937e080003410156106e25760405162976f7560e21b815260040160405180910390fd5b6000805490806106f183610e1e565b919050559050604051806060016040528082815260200185858080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201829052509385525050506001600160a01b038516602092830152838152600180835260409091208351815591830151908201906107739082610e37565b506040918201516002918201805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0390921691909117905590518291906107bb9087908790610bc2565b9081526040805160209281900383018120939093556001600160a01b03851660009081526003909252902082905581907faef1fcdf962a03943b677ae3b92ef1b34c972aeef794ed6e9ba5f599b461883b9061081c90879087908790610ef7565b60405180910390a29392505050565b6108586040518060600160405280600081526020016060815260200160006001600160a01b031681525090565b60006002848460405161086c929190610bc2565b90815260200160405180910390205490508060000361089e5760405163e93ba22360e01b815260040160405180910390fd5b600081815260016020818152604092839020835160608101909452805484529182018054918401916108cf90610b88565b80601f01602080910402602001604051908101604052809291908181526020018280546108fb90610b88565b80156109485780601f1061091d57610100808354040283529160200191610948565b820191906000526020600020905b81548152906001019060200180831161092b57829003601f168201915b5050509183525050600291909101546001600160a01b0316602090910152949350505050565b6000600160005461097f9190610f39565b905090565b80356001600160a01b03811681146103f657600080fd5b6000602082840312156109ad57600080fd5b6109b682610984565b9392505050565b600060208083528351818401528084015160606040850152805180608086015260005b818110156109fc5782810184015186820160a0015283016109e0565b50600085820160a0015260408601516001600160a01b03811660608701529250601f01601f19169390930160a001949350505050565b600060208284031215610a4457600080fd5b5035919050565b60008083601f840112610a5d57600080fd5b50813567ffffffffffffffff811115610a7557600080fd5b602083019150836020828501011115610a8d57600080fd5b9250929050565b60008060008060608587031215610aaa57600080fd5b84359350602085013567ffffffffffffffff811115610ac857600080fd5b610ad487828801610a4b565b9094509250610ae7905060408601610984565b905092959194509250565b600080600060408486031215610b0757600080fd5b833567ffffffffffffffff811115610b1e57600080fd5b610b2a86828701610a4b565b9094509250610b3d905060208501610984565b90509250925092565b60008060208385031215610b5957600080fd5b823567ffffffffffffffff811115610b7057600080fd5b610b7c85828601610a4b565b90969095509350505050565b600181811c90821680610b9c57607f821691505b602082108103610bbc57634e487b7160e01b600052602260045260246000fd5b50919050565b8183823760009101908152919050565b6000808354610be081610b88565b60018281168015610bf85760018114610c0d57610c3c565b60ff1984168752821515830287019450610c3c565b8760005260208060002060005b85811015610c335781548a820152908401908201610c1a565b50505082870194505b50929695505050505050565b634e487b7160e01b600052604160045260246000fd5b601f821115610ca857600081815260208120601f850160051c81016020861015610c855750805b601f850160051c820191505b81811015610ca457828155600101610c91565b5050505b505050565b67ffffffffffffffff831115610cc557610cc5610c48565b610cd983610cd38354610b88565b83610c5e565b6000601f841160018114610d0d5760008515610cf55750838201355b600019600387901b1c1916600186901b178355610d67565b600083815260209020601f19861690835b82811015610d3e5786850135825560209485019460019092019101610d1e565b5086821015610d5b5760001960f88860031b161c19848701351681555b505060018560011b0183555b5050505050565b604081526000808454610d8081610b88565b8060408601526060600180841660008114610da25760018114610dbc57610ded565b60ff1985168884015283151560051b880183019550610ded565b8960005260208060002060005b86811015610de45781548b8201870152908401908201610dc9565b8a018501975050505b505050506001600160a01b03851660208501525090506109b6565b634e487b7160e01b600052601160045260246000fd5b600060018201610e3057610e30610e08565b5060010190565b815167ffffffffffffffff811115610e5157610e51610c48565b610e6581610e5f8454610b88565b84610c5e565b602080601f831160018114610e9a5760008415610e825750858301515b600019600386901b1c1916600185901b178555610ca4565b600085815260208120601f198616915b82811015610ec957888601518255948401946001909101908401610eaa565b5085821015610ee75787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b604081528260408201528284606083013760006060848301015260006060601f19601f86011683010190506001600160a01b0383166020830152949350505050565b81810381811115610f4c57610f4c610e08565b9291505056fea2646970667358221220435880456443cf0193225a1c58e395d30ef1bb3b68cb57bae4ca49c1b25cc07864736f6c63430008130033",
  "deployedBytecode": "0x60806040526004361061007b5760003560e01c806364b4f7511161004e57806364b4f7511461012757806378ddad121461014257806391cab63e14610162578063de99f1571461017757600080fd5b80630c638107146100805780632de5aaf7146100b65780633bfbbad7146100d65780634750d0fa14610106575b600080fd5b34801561008c57600080fd5b506100a061009b36600461099b565b6101a6565b6040516100ad91906109bd565b60405180910390f35b3480156100c257600080fd5b506100a06100d1366004610a32565b6102dc565b3480156100e257600080fd5b506100f66100f1366004610a94565b6103fb565b60405190151581526020016100ad565b610119610114366004610af2565b6105fa565b6040519081526020016100ad565b34801561013357600080fd5b506101196611c37937e0800081565b34801561014e57600080fd5b506100a061015d366004610b46565b61082b565b34801561016e57600080fd5b5061011961096e565b34801561018357600080fd5b506100f6610192366004610a32565b600090815260016020526040902054151590565b6101d36040518060600160405280600081526020016060815260200160006001600160a01b031681525090565b6001600160a01b0382166000908152600360205260408120549081900361020d5760405163e93ba22360e01b815260040160405180910390fd5b6000818152600160208181526040928390208351606081019094528054845291820180549184019161023e90610b88565b80601f016020809104026020016040519081016040528092919081815260200182805461026a90610b88565b80156102b75780601f1061028c576101008083540402835291602001916102b7565b820191906000526020600020905b81548152906001019060200180831161029a57829003601f168201915b5050509183525050600291909101546001600160a01b03166020909101529392505050565b6103096040518060600160405280600081526020016060815260200160006001600160a01b031681525090565b6000828152600160208181526040928390208351606081019094528054845291820180549184019161033a90610b88565b80601f016020809104026020016040519081016040528092919081815260200182805461036690610b88565b80156103b35780601f10610388576101008083540402835291602001916103b3565b820191906000526020600020905b81548152906001019060200180831161039657829003601f168201915b5050509183525050600291909101546001600160a01b031660209091015280519091506000036103f65760405163e93ba22360e01b815260040160405180910390fd5b919050565b60008481526001602052604081208054820361042a5760405163e93ba22360e01b815260040160405180910390fd5b60028101546001600160a01b0316331461045757604051634f1f214760e01b815260040160405180910390fd5b83158015906001600160a01b0385161515906104ae576002878760405161047f929190610bc2565b9081526020016040518091039020546000146104ae57604051637b857a6b60e01b815260040160405180910390fd5b80156104eb576001600160a01b038516600090815260036020526040902054156104eb576040516316a163b960e11b815260040160405180910390fd5b811561054b576002836001016040516105049190610bd2565b9081526040519081900360200190206000905560018301610526878983610cad565b50876002888860405161053a929190610bc2565b908152604051908190036020019020555b801561059e576002830180546001600160a01b03908116600090815260036020526040808220829055835473ffffffffffffffffffffffffffffffffffffffff1916928916928317909355908152208890555b600283015460405189917f1b37db56c92268433e33fda6783791cb9e5f8ffababd3952ab40716443f1bf89916105e49160018801916001600160a01b0390911690610d6e565b60405180910390a2506001979650505050505050565b600082810361061c576040516375893cc160e11b815260040160405180910390fd5b6001600160a01b0382166106435760405163e6c4247b60e01b815260040160405180910390fd5b60028484604051610655929190610bc2565b90815260200160405180910390205460001461068457604051637b857a6b60e01b815260040160405180910390fd5b6001600160a01b038216600090815260036020526040902054156106bb576040516316a163b960e11b815260040160405180910390fd5b6611c37937e080003410156106e25760405162976f7560e21b815260040160405180910390fd5b6000805490806106f183610e1e565b919050559050604051806060016040528082815260200185858080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201829052509385525050506001600160a01b038516602092830152838152600180835260409091208351815591830151908201906107739082610e37565b506040918201516002918201805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0390921691909117905590518291906107bb9087908790610bc2565b9081526040805160209281900383018120939093556001600160a01b03851660009081526003909252902082905581907faef1fcdf962a03943b677ae3b92ef1b34c972aeef794ed6e9ba5f599b461883b9061081c90879087908790610ef7565b60405180910390a29392505050565b6108586040518060600160405280600081526020016060815260200160006001600160a01b031681525090565b60006002848460405161086c929190610bc2565b90815260200160405180910390205490508060000361089e5760405163e93ba22360e01b815260040160405180910390fd5b600081815260016020818152604092839020835160608101909452805484529182018054918401916108cf90610b88565b80601f01602080910402602001604051908101604052809291908181526020018280546108fb90610b88565b80156109485780601f1061091d57610100808354040283529160200191610948565b820191906000526020600020905b81548152906001019060200180831161092b57829003601f168201915b5050509183525050600291909101546001600160a01b0316602090910152949350505050565b6000600160005461097f9190610f39565b905090565b80356001600160a01b03811681146103f657600080fd5b6000602082840312156109ad57600080fd5b6109b682610984565b9392505050565b600060208083528351818401528084015160606040850152805180608086015260005b818110156109fc5782810184015186820160a0015283016109e0565b50600085820160a0015260408601516001600160a01b03811660608701529250601f01601f19169390930160a001949350505050565b600060208284031215610a4457600080fd5b5035919050565b60008083601f840112610a5d57600080fd5b50813567ffffffffffffffff811115610a7557600080fd5b602083019150836020828501011115610a8d57600080fd5b9250929050565b60008060008060608587031215610aaa57600080fd5b84359350602085013567ffffffffffffffff811115610ac857600080fd5b610ad487828801610a4b565b9094509250610ae7905060408601610984565b905092959194509250565b600080600060408486031215610b0757600080fd5b833567ffffffffffffffff811115610b1e57600080fd5b610b2a86828701610a4b565b9094509250610b3d905060208501610984565b90509250925092565b60008060208385031215610b5957600080fd5b823567ffffffffffffffff811115610b7057600080fd5b610b7c85828601610a4b565b90969095509350505050565b600181811c90821680610b9c57607f821691505b602082108103610bbc57634e487b7160e01b600052602260045260246000fd5b50919050565b8183823760009101908152919050565b6000808354610be081610b88565b60018281168015610bf85760018114610c0d57610c3c565b60ff1984168752821515830287019450610c3c565b8760005260208060002060005b85811015610c335781548a820152908401908201610c1a565b50505082870194505b50929695505050505050565b634e487b7160e01b600052604160045260246000fd5b601f821115610ca857600081815260208120601f850160051c81016020861015610c855750805b601f850160051c820191505b81811015610ca457828155600101610c91565b5050505b505050565b67ffffffffffffffff831115610cc557610cc5610c48565b610cd983610cd38354610b88565b83610c5e565b6000601f841160018114610d0d5760008515610cf55750838201355b600019600387901b1c1916600186901b178355610d67565b600083815260209020601f19861690835b82811015610d3e5786850135825560209485019460019092019101610d1e565b5086821015610d5b5760001960f88860031b161c19848701351681555b505060018560011b0183555b5050505050565b604081526000808454610d8081610b88565b8060408601526060600180841660008114610da25760018114610dbc57610ded565b60ff1985168884015283151560051b880183019550610ded565b8960005260208060002060005b86811015610de45781548b8201870152908401908201610dc9565b8a018501975050505b505050506001600160a01b03851660208501525090506109b6565b634e487b7160e01b600052601160045260246000fd5b600060018201610e3057610e30610e08565b5060010190565b815167ffffffffffffffff811115610e5157610e51610c48565b610e6581610e5f8454610b88565b84610c5e565b602080601f831160018114610e9a5760008415610e825750858301515b600019600386901b1c1916600185901b178555610ca4565b600085815260208120601f198616915b82811015610ec957888601518255948401946001909101908401610eaa565b5085821015610ee75787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b604081528260408201528284606083013760006060848301015260006060601f19601f86011683010190506001600160a01b0383166020830152949350505050565b81810381811115610f4c57610f4c610e08565b9291505056fea2646970667358221220435880456443cf0193225a1c58e395d30ef1bb3b68cb57bae4ca49c1b25cc07864736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
